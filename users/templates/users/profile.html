{% extends 'users/base.html' %}
{% load static %}
{% load filters %}

    {% block title %} Profile : {{user.user.last_name| capfirst}}, {{user.user.first_name | capfirst}} {% endblock %}

{% block main %}
    
    
    <div class="max-w-4xl mx-auto p-6 bg-white rounded-lg  pb-2">
    <div class="text-center mb-6">
        <h2 class="text-3xl font-bold text-gray-800">User Profile</h2>
        </div>

    <div class="grid grid-cols-1 bg-gray-400 rounded-lg md:grid-cols-2 px-3 py-4 gap-6 mb-6">
        <div class="bg-gray-50 p-6 rounded-md border border-gray-200">
            <h3 class="text-xl font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-300">Personal Information</h3>
            <p class="mb-2 text-gray-700"><strong class="font-medium text-gray-800">Name: </strong> {{user.user.first_name.capitalize}} {{user.user.last_name.capitalize}} </p>
            <p class="mb-2 text-gray-700"><strong class="font-medium text-gray-800">Email:</strong> {{user.user.email}} </p>
            <p class="mb-2 text-gray-700"><strong class="font-medium text-gray-800">Phone:</strong> {{user.phone | phone_format}}</p>
            <p class="mb-2 text-gray-700"><strong class="font-medium text-gray-800">Address:</strong> {{user.address}}</p>
            <p class="mb-2 text-gray-700"><strong class="font-medium text-gray-800">Date Joined:</strong> {{user.date_join|date:"j F Y"}}</p>
        </div>

        <div class="bg-gray-50 p-6 rounded-md border border-gray-200">
            <h3 class="text-xl font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-300">Staff Details</h3>
            <p class="mb-2 text-gray-700"><strong class="font-medium text-gray-800">Employee ID:</strong> {{user.user.sec_id}}</p>
            <p class="mb-2 text-gray-700"><strong class="font-medium text-gray-800">Department:</strong> {{user.department}}</p>
            <p class="mb-2 text-gray-700"><strong class="font-medium text-gray-800">Position:</strong> {{user.role}}</p>
            <p class="mb-2 text-gray-700"><strong class="font-medium text-gray-800">Status:</strong> {% if user.active == true %} <span class="text-green-700 font-bold">Active</span> {% else %} <span class="text-red-700 font-bold">Not Active</span> {% endif %}</p>
            <!-- <p class="mb-2 text-gray-700"><strong class="font-medium text-gray-800">Last Login:</strong> July 3, 2025</p> -->
        </div>
    </div>

    <div class="text-center pt-4 border-t border-gray-200">
        {% if request.user.sec_id == user.user.sec_id  or request.user.is_manager %}
            <a class="px-6 py-2 mx-2 bg-blue-600 text-white font-semibold rounded-md shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 transition duration-300 ease-in-out" href="{% url 'profile_edit' user.user.sec_id %}">Edit Personal Info</a>
        {% endif %}
        
        <button class="px-6 py-2 mx-2 bg-gray-600 text-white font-semibold rounded-md shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-75 transition duration-300 ease-in-out">Change Password</button>
        <button class="px-6 py-2 mx-2 bg-green-600 text-white font-semibold rounded-md shadow-md hover:bg-green-700 hover:shadow-green-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-75 transition duration-300 ease-in-out">Availability</button>
    </div>
</div>

{% endblock %}    